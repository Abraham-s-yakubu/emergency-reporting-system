/* Base styles for the entire page */
body {
	font-family: "Inter", sans-serif;
	background-color: #0a1128; /* Deep navy blue background */
	color: #e0e7ff; /* Light blue-gray text color */
	display: flex;
	flex-direction: column;
	height: 100vh;
	overflow: hidden;
}
.container {
	flex-grow: 1;
	display: flex;
	flex-direction: column;
	padding: 1.5rem; /* Consistent padding */
	gap: 1.5rem; /* Spacing between sections */
}
#main-content-wrapper {
	flex-grow: 1;
	display: flex;
	flex-direction: column;
	gap: 1.5rem;
	overflow: hidden; /* Prevent overflow */
}
.main-content {
	flex-grow: 1;
	display: flex;
	gap: 1.5rem;
	overflow: hidden; /* Ensure content within is scrollable if needed */
}

.map-area {
	flex-grow: 1;
	display: flex;
	flex-direction: column;
	position: relative;
	overflow: hidden;
}

#map {
	flex-grow: 1;
	background-color: #1e293b;
	border-radius: 1.5rem;
	box-shadow: 0 15px 40px rgba(0, 0, 0, 0.35);
	overflow: hidden;
	position: relative;
}

/* Accident details panel styles - slides in from the right */
#accidentDetailsPanel {
	width: 350px; /* More compact width */
	background-color: #1e293b;
	border-left: 1px solid #334155;
	box-shadow: -10px 0 30px rgba(0, 0, 0, 0.4);
	transform: translateX(100%); /* Start off-screen to the right */
	transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1); /* Smooth slide animation */
	z-index: 102; /* Increased z-index for better visibility */
	overflow-y: auto;
	flex-shrink: 0;
	border-radius: 1.5rem 0 0 1.5rem; /* Rounded on left edge */
	padding: 1.5rem; /* Reduced padding */
	max-height: calc(
		100vh - 6rem
	); /* Adjusted max-height for cleaner appearance */
}
#accidentDetailsPanel.open {
	transform: translateX(0); /* Slide into view */
}
/* Ensure display is block when open, none when hidden */
#accidentDetailsPanel.hidden {
	display: none;
}

/* Map Filters Panel - slides in from the left */
#mapFiltersPanel {
	width: 300px; /* Width of the filter panel */
	background-color: #1e293b;
	border-right: 1px solid #334155;
	box-shadow: 10px 0 30px rgba(0, 0, 0, 0.4);
	transform: translateX(-100%); /* Start off-screen to the left */
	transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1); /* Smooth slide animation */
	z-index: 100; /* Ensure it's on top */
	overflow-y: auto;
	flex-shrink: 0;
	border-radius: 0 1.5rem 1.5rem 0; /* Rounded on right edge */
	padding: 1.5rem;
	position: absolute; /* Position absolutely over the map */
	height: 100%; /* Take full height of map area */
	top: 0;
	left: 0;
}
#mapFiltersPanel.open {
	transform: translateX(0); /* Slide into view */
}
#mapFiltersPanel.hidden {
	display: none; /* Hide when not in use to prevent interaction */
}

/* Common styles for form controls (inputs, selects, textareas) used throughout the app */
.filter-control,
.detail-input,
.detail-select,
.detail-textarea {
	padding: 0.75rem 1rem;
	border-radius: 0.75rem;
	background-color: #2d3748;
	color: #e0e7ff;
	border: 1px solid #4a5568;
	font-size: 0.95rem;
	transition: all 0.2s ease-in-out;
	width: 100%;
}
.filter-control:focus,
.detail-input:focus,
.detail-select:focus,
.detail-textarea:focus {
	outline: none;
	border-color: #3b82f6; /* Blue focus for accident theme */
	box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3); /* Blue shadow */
}
/* Style for disabled/read-only inputs */
.detail-input:disabled,
.detail-select:disabled,
.detail-textarea:disabled,
.detail-input[readonly],
.detail-select[readonly],
.detail-textarea[readonly] {
	background-color: #1a202c; /* Darker background for non-editable fields */
	color: #a0aec0; /* Lighter grey text */
	cursor: not-allowed;
	border-color: #2d3748;
}

/* Common button styles - Primary Action Button */
.btn-primary {
	padding: 0.85rem 1.75rem;
	background-image: linear-gradient(
		to right,
		#3b82f6,
		#1d4ed8
	); /* Blue gradient background for accident theme */
	color: white;
	font-weight: 600;
	border-radius: 1rem;
	box-shadow: 0 8px 20px rgba(59, 130, 246, 0.3); /* Blue shadow */
	transition: all 0.3s ease-in-out;
	transform: translateY(0);
}
.btn-primary:hover {
	box-shadow: 0 12px 25px rgba(59, 130, 246, 0.4); /* Darker blue shadow */
	transform: translateY(-2px); /* Slight lift on hover */
}
.btn-primary:active {
	transform: translateY(0);
	box-shadow: 0 5px 15px rgba(59, 130, 246, 0.2); /* Lighter blue shadow */
}
/* Style for small primary button (used in the all accidents modal) */
.btn-primary-small {
	padding: 0.5rem 1rem;
	background-image: linear-gradient(
		to right,
		#3b82f6,
		#1d4ed8
	); /* Blue gradient */
	color: white;
	font-weight: 600;
	border-radius: 0.75rem; /* Slightly less rounded than large button */
	font-size: 0.85rem;
	box-shadow: 0 4px 10px rgba(59, 130, 246, 0.2); /* Blue shadow */
	transition: all 0.3s ease-in-out;
	transform: translateY(0);
}
.btn-primary-small:hover {
	box-shadow: 0 6px 15px rgba(59, 130, 246, 0.3); /* Darker blue shadow */
	transform: translateY(-1px);
}
.btn-primary-small:active {
	transform: translateY(0);
	box-shadow: 0 2px 8px rgba(59, 130, 246, 0.1); /* Lighter blue shadow */
}

/* Common button styles - Secondary Action Button */
.btn-secondary {
	padding: 0.85rem 1.75rem;
	background-color: #4a5568;
	color: #e0e7ff;
	font-weight: 500;
	border-radius: 1rem;
	box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
	transition: all 0.3s ease-in-out;
	transform: translateY(0);
}
.btn-secondary:hover {
	background-color: #64748b;
	box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
	transform: translateY(-1px);
}
.btn-secondary:active {
	transform: translateY(0);
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* --- Modal Styles START --- */
.modal {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background-color: rgba(0, 0, 0, 0.85); /* Dark overlay */
	display: flex;
	justify-content: center;
	align-items: center;
	z-index: 200;
	backdrop-filter: blur(8px); /* Frosted glass effect */
}
.modal.hidden {
	display: none;
}
.modal-content {
	background-color: #1e293b;
	padding: 2.5rem;
	border-radius: 1.5rem;
	box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
	max-width: 90%;
	max-height: 90%;
	overflow-y: auto;
	position: relative;
	border: 1px solid #334155;
	animation: slideIn 0.3s cubic-bezier(0.25, 0.8, 0.25, 1) forwards; /* Smooth entry animation */
}
.modal-title {
	font-size: 2rem;
	font-weight: 700;
	color: #e0e7ff;
	margin-bottom: 1.5rem;
}
.modal-close-button {
	position: absolute;
	top: 1.5rem;
	right: 1.5rem;
	color: #a0aec0;
	cursor: pointer;
	transition: color 0.2s ease-in-out;
}
.modal-close-button:hover {
	color: #e0e7ff;
}
.modal-checkbox-label {
	display: inline-flex;
	align-items: center;
	cursor: pointer;
	color: #cbd5e1;
	font-size: 1rem;
	transition: color 0.2s ease-in-out;
}
.modal-checkbox-label:hover {
	color: #e0e7ff;
}
.modal-checkbox-label input[type="checkbox"] {
	height: 1.5rem;
	width: 1.5rem;
	border-radius: 0.375rem;
	background-color: #2d3748;
	border: 1px solid #4a5568;
	transition: all 0.2s ease-in-out;
}
.modal-checkbox-label input[type="checkbox"]:checked {
	background-color: #3b82f6; /* Blue checkbox checked color */
	border-color: #3b82f6; /* Blue border */
}
.modal-checkbox-label input[type="checkbox"]:focus {
	outline: none;
	box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3); /* Blue shadow */
}

@keyframes slideIn {
	from {
		opacity: 0;
		transform: translateY(-30px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}
/* --- Modal Styles END --- */

/* Drawing controls for map interactions (top-left) */
#drawingControls {
	position: absolute;
	top: 1.5rem;
	left: 1.5rem;
	background-color: #1e293b;
	padding: 0.75rem;
	border-radius: 1rem;
	box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
	z-index: 10;
	display: flex;
	flex-direction: column;
	gap: 0.75rem;
}
#drawingControls button {
	padding: 0.75rem;
	background-color: #2d3748;
	color: #e0e7ff;
	border-radius: 0.75rem;
	transition: all 0.2s ease-in-out;
}
#drawingControls button:hover {
	background-color: #4a5568;
	transform: translateY(-1px);
}
#drawingControls button.active {
	background-color: #3b82f6; /* Blue active state */
	color: white;
	box-shadow: 0 4px 10px rgba(59, 130, 246, 0.3); /* Blue shadow */
}
#drawingControls button.active:hover {
	background-color: #1d4ed8; /* Darker blue on hover */
}

/* Layer switcher controls for base map layers (top-right) */
#layerSwitcher {
	position: absolute;
	top: 1.5rem;
	right: 1.5rem;
	background-color: #1e293b;
	padding: 0.75rem;
	border-radius: 1rem;
	box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
	z-index: 10;
	display: flex;
	flex-direction: column;
	gap: 0.75rem;
}
#layerSwitcher button {
	padding: 0.75rem 1.25rem;
	background-color: #2d3748;
	color: #e0e7ff;
	border-radius: 0.75rem;
	transition: all 0.2s ease-in-out;
}
#layerSwitcher button:hover {
	background-color: #4a5568;
	transform: translateY(-1px);
}
#layerSwitcher button.active {
	background-color: #3b82f6; /* Blue active state */
	color: white;
	box-shadow: 0 4px 10px rgba(59, 130, 246, 0.3); /* Blue shadow */
}
#layerSwitcher button.active:hover {
	background-color: #1d4ed8; /* Darker blue on hover */
}

/* Map interaction controls (bottom-left) */
#mapInteractionControls {
	position: absolute;
	bottom: 1.5rem;
	left: 1.5rem;
	background-color: #1e293b;
	padding: 0.75rem;
	border-radius: 1rem;
	box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
	z-index: 10;
	display: flex;
	flex-direction: column;
	gap: 0.75rem;
}
#mapInteractionControls button {
	/* Added this block for consistency */
	padding: 0.75rem;
	background-color: #2d3748;
	color: #e0e7ff;
	border-radius: 0.75rem;
	transition: all 0.2s ease-in-out;
}
#mapInteractionControls button:hover {
	background-color: #4a5568;
	transform: translateY(-1px);
}

/* Bottom control bar for global actions like map filters and the new "View All Accidents" button */
.bottom-control-bar {
	background-color: #152238;
	border-radius: 1.5rem;
	box-shadow: 0 -10px 30px rgba(0, 0, 0, 0.3);
	padding: 1rem 2rem;
	display: flex;
	justify-content: center;
	gap: 2rem;
	flex-shrink: 0;
	position: relative;
}
.bottom-control-bar .control-button {
	padding: 0.75rem 1.25rem;
	background-color: #2d3748;
	color: #e0e7ff;
	font-weight: 500;
	border-radius: 1rem;
	transition: all 0.2s ease-in-out;
	display: flex;
	align-items: center;
	gap: 0.5rem;
}
.bottom-control-bar .control-button:hover {
	background-color: #4a5568;
	transform: translateY(-2px);
}
.bottom-control-bar .control-button svg {
	width: 1.5rem;
	height: 1.5rem;
}

/* OpenLayers Popup styling for accident details on hover */
#popup {
	background-color: #1e293b;
	border-radius: 0.75rem;
	box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
	padding: 1rem;
	position: absolute;
	transform: translate(-50%, -100%) translate(10px, -25px); /* Adjusted for better offset */
	min-width: 180px;
	z-index: 10;
	display: none; /* Hidden by default */
	border: 1px solid #334155;
}
#popup-closer {
	text-decoration: none;
	position: absolute;
	top: 0.5rem;
	right: 0.5rem;
	color: #a0aec0;
	font-size: 1rem;
	transition: color 0.2s ease-in-out;
}
#popup-closer:hover {
	color: #e0e7ff;
}
#popup-content {
	font-size: 0.9rem;
	color: #e0e7ff;
	margin-top: 0.5rem;
}
#popup-content strong {
	color: #ffffff;
}
#popup-content p {
	margin-bottom: 0.25rem;
}

/* Styles for the new full-screen accidents modal (reusable modal structure) */
#allAccidentsModal .modal-content {
	width: 90%;
	height: 90%;
	padding: 0; /* Remove padding from here, add to inner divs for content control */
	display: flex;
	flex-direction: column;
}
#allAccidentsModal .modal-header {
	flex-shrink: 0;
	padding: 1.5rem;
	border-bottom: 1px solid #334155;
}
#allAccidentsModal .modal-body {
	flex-grow: 1;
	overflow-y: auto; /* Enable scrolling for table content */
	padding: 1.5rem;
}
#allAccidentsModal table {
	width: 100%;
	border-collapse: separate;
	border-spacing: 0 0.5rem; /* Adds space between rows */
}
#allAccidentsModal thead th {
	background-color: #152238; /* Darker header for table */
	padding: 0.75rem 1rem;
	font-weight: 600;
	color: #cbd5e1;
	position: sticky; /* Make table header sticky */
	top: -1.5rem; /* Offset for padding of modal-body to keep header visible on scroll */
	z-index: 1;
	border-radius: 0.75rem; /* Rounded corners for header cells */
	text-align: left;
}
#allAccidentsModal tbody tr {
	background-color: #2d3748; /* Slightly lighter row background */
	transition: background-color 0.2s ease-in-out;
	border-radius: 0.75rem;
}
#allAccidentsModal tbody tr:hover {
	background-color: #4a5568; /* Hover effect */
}
#allAccidentsModal tbody td {
	padding: 0.75rem 1rem;
	color: #e0e7ff;
}
/* Rounded corners for table cells to match row styling */
#allAccidentsModal tbody tr td:first-child {
	border-top-left-radius: 0.75rem;
	border-bottom-left-radius: 0.75rem;
}
#allAccidentsModal tbody tr td:last-child {
	border-top-right-radius: 0.75rem;
	border-bottom-right-radius: 0.75rem;
}

/* Status badges within the table */
#allAccidentsModal .status-badge {
	padding: 0.3em 0.6em;
	border-radius: 0.5rem;
	font-size: 0.8em;
	font-weight: 600;
	color: white;
	display: inline-block;
}
#allAccidentsModal .status-reported {
	background-color: #facc15;
	color: #334155;
}
#allAccidentsModal .status-closed {
	background-color: #22c55e;
}
#allAccidentsModal .status-active {
	background-color: #3b82f6;
}

/* Severity text colors within the table */
#allAccidentsModal .severity-text {
	font-weight: 600;
}
#allAccidentsModal .severity-critical {
	color: #ef4444;
} /* Red */
#allAccidentsModal .severity-serious {
	color: #f97316;
} /* Orange */
#allAccidentsModal .severity-minor {
	color: #22c55e;
} /* Green */
#allAccidentsModal .modal-footer {
	flex-shrink: 0;
	padding: 1rem;
	border-top: 1px solid #334155;
	text-align: center;
}

/* Styles for filter controls within the modal - flexible layout */
#allAccidentsModal .filter-group {
	display: flex;
	flex-wrap: wrap; /* Allow wrapping on smaller screens */
	gap: 1rem;
	margin-top: 1rem;
	align-items: flex-end; /* Align buttons/inputs to the bottom */
}
#allAccidentsModal .filter-item {
	flex: 1; /* Distribute space evenly */
	min-width: 100px; /* Adjusted min-width for date filters to prevent squishing */
}
#allAccidentsModal .filter-item.search-item {
	min-width: 150px; /* Ensure search bar has enough space */
}
#allAccidentsModal .filter-item label {
	display: block;
	margin-bottom: 0.5rem;
	font-size: 0.85rem;
	color: #cbd5e1;
}
#allAccidentsModal .filter-item select,
#allAccidentsModal .filter-item input[type="text"] {
	width: 100%;
	padding: 0.6rem 0.8rem; /* Slightly smaller padding for modal filters */
	border-radius: 0.6rem;
	background-color: #2d3748;
	color: #e0e7ff;
	border: 1px solid #4a5568;
	font-size: 0.9rem;
}
#allAccidentsModal .filter-item button {
	width: auto; /* Allow button to size to content */
	padding: 0.75rem 1.5rem;
	font-size: 0.9rem;
	align-self: flex-end; /* Push button to the bottom if other items are taller */
}

/* Specific styles for the new single accident details modal */
#singleAccidentDetailsModal .modal-content {
	max-width: 500px; /* Smaller width for this modal */
	padding: 2rem;
}
#singleAccidentDetailsModal .modal-header {
	border-bottom: none; /* No border for this smaller modal's header */
	padding-bottom: 0;
	margin-bottom: 1rem;
}
#singleAccidentDetailsModal .modal-title {
	font-size: 1.75rem;
	margin-bottom: 0.5rem;
}
#singleAccidentDetailsModal .detail-field {
	margin-bottom: 0.75rem;
}
#singleAccidentDetailsModal .detail-field p {
	margin-bottom: 0.25rem;
}
#singleAccidentDetailsModal .detail-field strong {
	color: #e0e7ff;
	font-weight: 600;
}
#singleAccidentDetailsModal .detail-field span {
	color: #cbd5e1;
	font-size: 0.95rem;
}
#singleAccidentDetailsModal .media-container {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
	gap: 0.75rem;
	margin-top: 0.75rem;
}
#singleAccidentDetailsModal .media-container img {
	border-radius: 0.5rem;
	width: 100%;
	height: auto;
	object-fit: cover;
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}
#singleAccidentDetailsModal .no-media {
	background-color: #1a202c;
	border: 1px dashed #2d3748;
	color: #4a5568;
	padding: 1rem;
	border-radius: 0.5rem;
	text-align: center;
	font-size: 0.9rem;
}
